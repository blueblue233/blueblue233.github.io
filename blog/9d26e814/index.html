<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.1">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.1" color="#222">
<link rel="stylesheet" href="/css/main.css?v=7.4.1">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">
<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.4.1',
    exturl: false,
    sidebar: {"position":"right","display":"hide","offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"flat"},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":true,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    },
    sidebarPadding: 40
  };
</script>
  <meta name="description" content="6.4 数据校验 6.4.2 JSR 303校验 下载JSR 303 JSR 303注解 Hibernate Validator扩展注解   示例 测试JSR 303校验 registerForm.jsp User.java UserController.java success.jsp 国际化错误提示信息 错误消息代码   message_en_US.properties message_zh">
<meta name="keywords" content="程序员,java,读书,SQL,MySQL">
<meta property="og:type" content="article">
<meta property="og:title" content="6.4 数据校验 6.4.2 JSR 303校验">
<meta property="og:url" content="https://blueblue233.github.io/blog/9d26e814/index.html">
<meta property="og:site_name" content="蓝蓝的读书笔记">
<meta property="og:description" content="6.4 数据校验 6.4.2 JSR 303校验 下载JSR 303 JSR 303注解 Hibernate Validator扩展注解   示例 测试JSR 303校验 registerForm.jsp User.java UserController.java success.jsp 国际化错误提示信息 错误消息代码   message_en_US.properties message_zh">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://image-1257720033.cos.ap-shanghai.myqcloud.com/blog/readbooknote/Spring%2BMyBatisQiYeYingYongShiZhan/chapter6/24.png">
<meta property="og:image" content="https://image-1257720033.cos.ap-shanghai.myqcloud.com/blog/readbooknote/Spring%2BMyBatisQiYeYingYongShiZhan/chapter6/25.png">
<meta property="og:updated_time" content="2019-10-14T06:55:41.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="6.4 数据校验 6.4.2 JSR 303校验">
<meta name="twitter:description" content="6.4 数据校验 6.4.2 JSR 303校验 下载JSR 303 JSR 303注解 Hibernate Validator扩展注解   示例 测试JSR 303校验 registerForm.jsp User.java UserController.java success.jsp 国际化错误提示信息 错误消息代码   message_en_US.properties message_zh">
<meta name="twitter:image" content="https://image-1257720033.cos.ap-shanghai.myqcloud.com/blog/readbooknote/Spring%2BMyBatisQiYeYingYongShiZhan/chapter6/24.png">
  <link rel="canonical" href="https://blueblue233.github.io/blog/9d26e814/">
<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>
  <title>6.4 数据校验 6.4.2 JSR 303校验 | 蓝蓝的读书笔记</title>
  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }
  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }
  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>
</head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">
    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">蓝蓝的读书笔记</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>
<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">
    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>
  </li>
        <li class="menu-item menu-item-about">
    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>
  </li>
        <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>
  </li>
        <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>
  </li>
        <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>
  </li>
        <li class="menu-item menu-item-lover">
    <a href="/lover/" rel="section"><i class="fa fa-fw fa-heart"></i>恋爱</a>
  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger">
          <i class="fa fa-search fa-fw"></i>搜索</a>
      </li>
  </ul>
</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>
</div>
<div class="search-pop-overlay"></div>
  </div>
</div>
    </header>
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>
    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
  <div class="posts-expand">
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blueblue233.github.io/blog/9d26e814/">
    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>
    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝的读书笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">6.4 数据校验 6.4.2 JSR 303校验
        </h1>
        <div class="post-meta">
          <!-- 置顶插件添加 开始 -->
          <!-- 置顶插件添加 结束 -->
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="创建时间：2019-06-01 22:00:58" itemprop="dateCreated datePublished" datetime="2019-06-01T22:00:58+08:00">2019-06-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-10-14 14:55:41" itemprop="dateModified" datetime="2019-10-14T14:55:41+08:00">2019-10-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Spring-Mybatis企业应用实战-第2版/" itemprop="url" rel="index"><span itemprop="name">Spring+Mybatis企业应用实战(第2版)</span></a></span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Spring-Mybatis企业应用实战-第2版/第6章-SpringMVC的数据转换-格式化和数据校验/" itemprop="url" rel="index"><span itemprop="name">第6章 SpringMVC的数据转换 格式化和数据校验</span></a></span>
            </span>
        </div>
      </header>
    <div class="post-body" itemprop="articleBody">
        <ul>
<li><a href="/blog/9d26e814/#6-4-数据校验-6-4-2-JSR-303校验">6.4 数据校验 6.4.2 JSR 303校验</a><ul>
<li><a href="/blog/9d26e814/#下载JSR-303">下载JSR 303</a></li>
<li><a href="/blog/9d26e814/#JSR-303注解">JSR 303注解</a></li>
<li><a href="/blog/9d26e814/#Hibernate-Validator扩展注解">Hibernate Validator扩展注解</a></li>
</ul>
</li>
<li><a href="/blog/9d26e814/#示例-测试JSR-303校验">示例 测试JSR 303校验</a><ul>
<li><a href="/blog/9d26e814/#registerForm-jsp">registerForm.jsp</a></li>
<li><a href="/blog/9d26e814/#User-java">User.java</a></li>
<li><a href="/blog/9d26e814/#UserController-java">UserController.java</a></li>
<li><a href="/blog/9d26e814/#success-jsp">success.jsp</a></li>
<li><a href="/blog/9d26e814/#国际化错误提示信息">国际化错误提示信息</a><ul>
<li><a href="/blog/9d26e814/#错误消息代码">错误消息代码</a></li>
</ul>
</li>
<li><a href="/blog/9d26e814/#message-en-US-properties">message_en_US.properties</a></li>
<li><a href="/blog/9d26e814/#message-zh-CN-properties">message_zh_CN.properties</a></li>
<li><a href="/blog/9d26e814/#springmvc-config-xml">springmvc-config.xml</a></li>
<li><a href="/blog/9d26e814/#测试">测试</a><ul>
<li><a href="/blog/9d26e814/#乱填表单">乱填表单</a></li>
<li><a href="/blog/9d26e814/#错误提示">错误提示</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<a id="more"></a>
<script src="/js/src/jquery.slim.min.js"></script>
<script>$(document).ready(function () {$(".post-body > ul:nth-child(1)").hide();});</script>
<!--end-->
<h1 id="6-4-数据校验-6-4-2-JSR-303校验"><a href="#6-4-数据校验-6-4-2-JSR-303校验" class="headerlink" title="6.4 数据校验 6.4.2 JSR 303校验"></a>6.4 数据校验 6.4.2 JSR 303校验</h1><p><code>JSR 303</code>是<code>Java</code>为<code>Bean</code>数据合法性校验所提供的一个标准规范,叫作<code>Bean Validation</code>。2009年12月<code>Java EE6</code>发布<strong>,<code>Bean Validation</code></strong>作为一个重要特性被包含其中,<strong>用于对<code>JavaBean</code>中的字段值进行验证</strong>。官方参考实现是<code>Hibernate Validation</code>。<br><code>Bean Validation</code>为 <code>JavaBean</code>验证定义了相应的元数据类型和<code>API</code>。在应用程序中通过在<code>Bean</code>属性上标注类似于<code>@NotNull</code>、<code>@Max</code>等标准的注解指定校验规则,并通过标注的验证接口对<code>Bean</code>进行验证。<code>Bean Validation</code>是一个运行时的数据验证框架,在验证之后验证的错误信息会被马上返回。<br>可以通过<a href="http://jcp.org/en/jsr/detail?id=303" target="_blank" rel="noopener">http://jcp.org/en/jsr/detail?id=303</a>了解<code>JSR 303</code>的详细内容。<br><code>JSR 303</code>是一个规范,它的<strong>核心接口是<code>Javax.validation.Validator</code></strong>,该接口根据目标对象类中所标注的校验注解进行数据校验,并得到校验结果。</p>
<h2 id="下载JSR-303"><a href="#下载JSR-303" class="headerlink" title="下载JSR 303"></a>下载JSR 303</h2><p><code>JSR 303</code>目前有两个实现第一个实现是 <code>Hibernate Validator</code>,可以从以下网站下载:<br><a href="https://sourceforge.net/projects/hibernate/files/hibernate-validator/" target="_blank" rel="noopener">https://sourceforge.net/projects/hibernate/files/hibernate-validator/</a><br>第二个实现是<code>Apache bval</code>,可以从以下网站下载：<br><a href="http://bval.apache.org/downloads.html" target="_blank" rel="noopener">http://bval.apache.org/downloads.html</a></p>
<h2 id="JSR-303注解"><a href="#JSR-303注解" class="headerlink" title="JSR 303注解"></a>JSR 303注解</h2><p><code>JSR 303</code>中定义了一套可标注在成员变量、属性方法上的校验注解</p>
<table>
<thead>
<tr>
<th align="left">注解</th>
<th align="left">功能</th>
<th align="left">范例</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>@Null</code></td>
<td align="left">验证对象是否为<code>null</code></td>
<td align="left"><code>@Null<br>String desc;</code></td>
</tr>
<tr>
<td align="left"><code>@NotNull</code></td>
<td align="left">验证对象是否不为<code>null</code>,无法检查长度为0的字符串,<strong>用于验证基本数据类型</strong></td>
<td align="left"><code>@NotNull<br>String name;</code></td>
</tr>
<tr>
<td align="left"><code>@NotBlank</code></td>
<td align="left">检查约束字符串是不是null,被Trim的长度是否大于0,<strong>只作用于字符串,且会去掉前后空格</strong></td>
<td align="left"><code>@NotBlank<br>String name;</code></td>
</tr>
<tr>
<td align="left"><code>@AssertTrue</code></td>
<td align="left">验证<code>Boolean</code>对象是否为<code>true</code></td>
<td align="left"><code>@AssertTrue<br>String isEmpty;</code></td>
</tr>
<tr>
<td align="left"><code>@AssertFalse</code></td>
<td align="left">验证<code>Boolean</code>对象是否为<code>false</code></td>
<td align="left"><code>@AssertTrue<br>String isEmpty;</code></td>
</tr>
<tr>
<td align="left"><code>@Max(value)</code></td>
<td align="left">验证<code>Number</code>和<code>String</code>对象是否<strong>小于或者等于</strong>指定的值</td>
<td align="left"><code>@Max(0)<br>int age;</code></td>
</tr>
<tr>
<td align="left"><code>@Min(value)</code></td>
<td align="left">验证<code>Number</code>和<code>String</code>对象是否<strong>大于或者等于</strong>指定的值</td>
<td align="left"><code>@Min(160)<br>int age;</code></td>
</tr>
<tr>
<td align="left"><code>@DecimalMax(value)</code></td>
<td align="left">被标注的值必须<strong>不大于约束中指定的最大值</strong>.。这个约束的参数是一个通过<code>BigDecimal</code>定义的最大值的字符串表示,小数存在精度</td>
<td align="left"><code>@DecimalMax(1.1)<br>BigDecimal price;</code></td>
</tr>
<tr>
<td align="left"><code>@DecimalMin(value)</code></td>
<td align="left">被标注的值必须<strong>不小于约束中指定的最小值</strong>.。这个约束的参数是一个通过<code>BigDecimal</code>定义的最小值的字符串表小数存在精度</td>
<td align="left"><code>@DecimalMax(0.5)<br>BigDecimal price;</code></td>
</tr>
<tr>
<td align="left"><code>@Digits(integer,fraction)</code></td>
<td align="left">验证字符串<strong>是否是符合指定格式的数字</strong>,<code>Integer</code>指定整数精度,<code>fraction</code>指定小数精度</td>
<td align="left"><code>@Digits(integer=5, fraction=2)<br>BigDecimal price</code></td>
</tr>
<tr>
<td align="left"><code>@Size(min,max)</code></td>
<td align="left">验证对象(<code>Array</code>、<code>Collection</code>、<code>Map</code>、<code>String)</code>长度是否在给定的范围之内</td>
<td align="left"><code>@Size(min=15, max=60)<br>int age;</code></td>
</tr>
<tr>
<td align="left"><code>@Email</code></td>
<td align="left">验证<strong>是否是合法的邮件地址</strong></td>
<td align="left"><code>@Email<br>String email;</code></td>
</tr>
<tr>
<td align="left"><code>@Past</code></td>
<td align="left">验证<code>Date</code>和<code>Calendar</code>对象<strong>是否在当前时间之前</strong></td>
<td align="left"><code>@Past<br>Date birthDate;</code></td>
</tr>
<tr>
<td align="left"><code>@Future</code></td>
<td align="left">验证<code>Date</code>和<code>Calendar</code>对象是否在当前时间之后</td>
<td align="left"><code>@FutureDate<br>shippingDate;</code></td>
</tr>
<tr>
<td align="left"><code>@Pattern</code></td>
<td align="left">验证<code>String</code>对象<strong>是否符合正则表达式的规则</strong></td>
<td align="left"><code>Pattern(regexp="[1][3,8][3,6,9][0-9]{8}")<br>String phone;</code></td>
</tr>
</tbody></table>
<h2 id="Hibernate-Validator扩展注解"><a href="#Hibernate-Validator扩展注解" class="headerlink" title="Hibernate Validator扩展注解"></a>Hibernate Validator扩展注解</h2><p><code>Hibernate Validator</code>是<code>JSR 303</code>的一个参考实现,除了支持所有标准的校验注解之外,它还扩展了如下表所示的注解.</p>
<table>
<thead>
<tr>
<th align="left">注解</th>
<th align="left">功能</th>
<th align="left">实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>@URL</code></td>
<td align="left">验证是否是合法的<code>URL</code></td>
<td align="left"><code>@URL<br>String url;</code></td>
</tr>
<tr>
<td align="left"><code>@CreditCardNumber</code></td>
<td align="left">验证是否是合法的信用卡号码</td>
<td align="left"><code>@CreditCardNumber<br>String creditCard;</code></td>
</tr>
<tr>
<td align="left"><code>@Length(min,max)</code></td>
<td align="left">验证字符串的长度必须在指定的范围内</td>
<td align="left"><code>@Length(min=6, max=8)<br>String password;</code></td>
</tr>
<tr>
<td align="left"><code>@NotEmpty</code></td>
<td align="left">检查元素是否为<code>Null</code>或者 <code>Empty</code>。用于<code>Array</code>,<code>Collection</code>,<code>Map</code>,<code>String</code></td>
<td align="left"><code>@NotEmpty<br>String name</code></td>
</tr>
<tr>
<td align="left"><code>@Range(min</code>,<code>max</code>,<code>message)</code></td>
<td align="left">验证属性值必须在合适的范围内</td>
<td align="left"><code>@Range(min=18, max=60, message="学生的年龄必须在18岁到60岁之间")<br>int age;</code></td>
</tr>
<tr>
<td align="left"># 示例 测试JSR 303校验 #</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">## registerForm.jsp ##</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span> pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;%<span class="meta">@taglib</span> prefix=<span class="string">"form"</span> uri=<span class="string">"http://www.springframework.org/tags/form"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;测试JSR 303&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h3&gt;注册页面&lt;/h3&gt;</span><br><span class="line">    &lt;!-- 绑定到模型中的user对象 --&gt;</span><br><span class="line">    &lt;form:form modelAttribute=<span class="string">"user"</span> method=<span class="string">"post"</span> action=<span class="string">"login"</span>&gt;</span><br><span class="line">        &lt;table&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;登录名:&lt;/td&gt;</span><br><span class="line">                &lt;!-- 绑定到模型中user对象的loginname属性 --&gt;</span><br><span class="line">                &lt;td&gt;&lt;form:input path="loginname" /&gt;&lt;/td&gt;</span><br><span class="line">                &lt;!-- 当user对象的loginname验证失败时显示 --&gt;</span><br><span class="line">                &lt;td&gt;&lt;form:errors path="loginname" cssStyle="color:red" /&gt;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;密码:&lt;/td&gt;</span><br><span class="line">                &lt;!-- 绑定到模型中user对象的password属性 --&gt;</span><br><span class="line">                &lt;td&gt;&lt;form:input path="password" /&gt;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;&lt;form:errors path="password" cssStyle="color:red" /&gt;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;用户名:&lt;/td&gt;</span><br><span class="line">                &lt;!-- 绑定到模型中user对象的username属性 --&gt;</span><br><span class="line">                &lt;td&gt;&lt;form:input path="username" /&gt;&lt;/td&gt;</span><br><span class="line">                &lt;!-- 当user对象的username验证失败时显示 --&gt;</span><br><span class="line">                &lt;td&gt;&lt;form:errors path="username" cssStyle="color:red" /&gt;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;年龄:&lt;/td&gt;</span><br><span class="line">                &lt;!-- 绑定到模型中user对象的age属性 --&gt;</span><br><span class="line">                &lt;td&gt;&lt;form:input path="age" /&gt;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;&lt;form:errors path="age" cssStyle="color:red" /&gt;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;邮箱:&lt;/td&gt;</span><br><span class="line">                &lt;!-- 绑定到模型中user对象的email属性 --&gt;</span><br><span class="line">                &lt;td&gt;&lt;form:input path="email" /&gt;&lt;/td&gt;</span><br><span class="line">                &lt;!-- 当user对象的email验证失败时显示 --&gt;</span><br><span class="line">                &lt;td&gt;&lt;form:errors path="email" cssStyle="color:red" /&gt;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;生日:&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;&lt;form:input path="birthday" /&gt;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;&lt;form:errors path="birthday" cssStyle="color:red" /&gt;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;电话:&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;&lt;form:input path="phone" /&gt;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;&lt;form:errors path="phone" cssStyle="color:red" /&gt;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;&lt;input type="submit" value="提交" /&gt;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">        &lt;/table&gt;</span><br><span class="line">    &lt;/form:form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<p><code>registerForm.jsp</code>是一个注册页面,用于提交用户注册信息,注册信息包括用户名、密码、邮箱、电话等。之后将在后台使用<code>JSR 303</code>进行验证。</p>
<h2 id="User-java"><a href="#User-java" class="headerlink" title="User.java"></a>User.java</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span></span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">Serializable</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">    <span class="meta">@NotBlank</span></span><br><span class="line">    <span class="keyword">private</span> String loginname;</span><br><span class="line">    <span class="meta">@NotBlank</span></span><br><span class="line">    <span class="meta">@Length</span>(min = <span class="number">6</span>,max = <span class="number">8</span>)</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="meta">@NotBlank</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="meta">@Range</span>(min = <span class="number">15</span>,max = <span class="number">60</span>)</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="meta">@Email</span></span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">    <span class="meta">@DateTimeFormat</span>(pattern = <span class="string">"yyyy-MM-dd"</span>)</span><br><span class="line">    <span class="meta">@Past</span></span><br><span class="line">    <span class="keyword">private</span> Date birthday;</span><br><span class="line">    <span class="meta">@Pattern</span>(regexp = <span class="string">"[1][3,8][3,6,9][0-9]&#123;8&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 此处省略getter和setter方法,请自己补上</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"User [loginname="</span> + loginname + <span class="string">", password="</span> + password + <span class="string">", email="</span> + email</span><br><span class="line">                + <span class="string">", username="</span> + username + <span class="string">", birthDate="</span> + birthday + <span class="string">", phone="</span> + phone + <span class="string">"]"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>User</code>类使用了<code>Hibernate Validator</code>的注解对前台提交的数据进行验证。</p>
<h2 id="UserController-java"><a href="#UserController-java" class="headerlink" title="UserController.java"></a>UserController.java</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping</span>(value = <span class="string">"/registerForm"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">registerForm</span><span class="params">(Model model)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// 创建一个user对象给表单绑定</span></span><br><span class="line">        User user = <span class="keyword">new</span> User();</span><br><span class="line">        <span class="comment">// 把user对象设置到模型中</span></span><br><span class="line">        model.addAttribute(<span class="string">"user"</span>, user);</span><br><span class="line">        <span class="comment">// 跳转到注册页面</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"registerForm"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 数据校验使用@Valid，后面跟着Errors对象保存校验信息</span></span><br><span class="line">    <span class="meta">@PostMapping</span>(value = <span class="string">"/login"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">login</span><span class="params">(@Valid @ModelAttribute User user, Errors errors, Model model)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(user);</span><br><span class="line">        <span class="keyword">if</span> (errors.hasErrors())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"registerForm"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        model.addAttribute(<span class="string">"user"</span>, user);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在<code>UserController</code>中的<code>login</code>方法使用<code>@Valid</code>注解对提交的数据进行校验,后面跟着<code>Errors</code>对象保存校验信息。如果<code>errors</code>中有错误信息,则返回<code>registerForm</code>页面,验证通过则跳转到<code>success</code>页面.</p>
<h2 id="success-jsp"><a href="#success-jsp" class="headerlink" title="success.jsp"></a>success.jsp</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span> pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;%@ taglib uri=<span class="string">"http://java.sun.com/jsp/jstl/fmt"</span> prefix=<span class="string">"fmt"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;测试JSR 303&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h3&gt;测试JSR 303&lt;/h3&gt;</span><br><span class="line">    &lt;br&gt;登录名：$&#123;requestScope.user.loginname &#125;</span><br><span class="line">    &lt;br&gt; 密码：$&#123;requestScope.user.password &#125;</span><br><span class="line">    &lt;br&gt; 用户名：$&#123;requestScope.user.username &#125;</span><br><span class="line">    &lt;br&gt; 年龄：$&#123;requestScope.user.age &#125;</span><br><span class="line">    &lt;br&gt; 邮箱：$&#123;requestScope.user.email &#125;</span><br><span class="line">    &lt;br&gt; 生日：</span><br><span class="line">    &lt;fmt:formatDate value=<span class="string">"$&#123;requestScope.user.birthday&#125;"</span> pattern=<span class="string">"yyyy年MM月dd日"</span> /&gt;</span><br><span class="line">    &lt;br&gt; 电话：$&#123;requestScope.user.phone &#125;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>由于<code>&lt;mvc:annotation-driven/&gt;</code>会默认装配好一个<code>LocalValidatorFactoryBean</code>,因此<code>springmvc-config.xml</code>配置文件中只是基本配置,不需要增加其他的配置。</p>
<h2 id="国际化错误提示信息"><a href="#国际化错误提示信息" class="headerlink" title="国际化错误提示信息"></a>国际化错误提示信息</h2><p>而在实际项目中,我们希望错误信息更加人性化、更具可读性,同时还希望显示国际化的错误信息。接下来我们就为项目加入国际化的错误信息。<br><code>Spring MVC</code>支持国际化显示数据校验的错误信息。每个属性在<code>数据绑定</code>和<code>数据校验</code>发生错误时,都会生成一个对应的<code>FieldError</code>对象,<code>FieldError</code>对象实现了<code>org.springframework.context.MessageSourceResolvable</code>接口,顾名思义<code>MessageSourceResolvable</code>是可用国际化资源进行解析的对象<code>MessageSourceResolvable</code>接口有如下3个方法:</p>
<table>
<thead>
<tr>
<th align="left">方法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>Object[] getArguments()</code></td>
<td align="left">返回一组参数对象。</td>
</tr>
<tr>
<td align="left"><code>String[] getCodes()</code></td>
<td align="left">返回一组消息代码,每一个代码对应一个属性资源,可以使用<code>getArguments()</code>返回的参数对资源属性值进行参数替换。</td>
</tr>
<tr>
<td align="left"><code>String getDefaultEessage()</code></td>
<td align="left">默认的消息,如果没有装配相应的国际化资源那么显示的所有错误信息都是默认的.</td>
</tr>
<tr>
<td align="left">### 错误消息代码 ###</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">当一个属性校验失败后,校验框架会为该属性生成<code>4个</code>消息代码,这些代码以校验注解类名为前缀,结合类名、属性名以及属性类型名生成多个对应的消息代码。</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">例如之前的<code>User</code>类的<code>loginname</code>属性上标注了一个<code>@NotBlank</code>注解,当该属性的值不满足<code>@NotBlank</code>所定义的限制规则时,就会产生以下4种错误代码:</td>
<td align="left"></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">错误代码</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>NotBlank.user.loginname</code></td>
<td align="left">根据类名、属性名产生的错误代码。</td>
</tr>
<tr>
<td align="left"><code>NotBlank.loginname</code></td>
<td align="left">根据属性名产生的错误代码。</td>
</tr>
<tr>
<td align="left"><code>NotBlank.java.lang.String</code></td>
<td align="left">根据属性类型产生的错误代码</td>
</tr>
<tr>
<td align="left"><code>NotBlank</code></td>
<td align="left">根据验证注解名产生的错误代码。</td>
</tr>
<tr>
<td align="left">当使用 <code>Spring MVC</code>标签显示错误信息时, <code>Spring MVC</code>会查看<code>Web</code>上下文是否装配了对应的国际化消息,如果没有,则显示默认的错误消息,否则使用国际化消息对错误代码进行显示。</td>
<td align="left"></td>
</tr>
</tbody></table>
<p>知道<code>错误对象的错误码是对应国际化消息的键名称</code>后,接下来就非常简单了,定义两个国际化资源文件,在<strong>国际化资源文件中为错误代码定义相应的本地化消息内容</strong>。</p>
<h2 id="message-en-US-properties"><a href="#message-en-US-properties" class="headerlink" title="message_en_US.properties"></a>message_en_US.properties</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">NotBlank.user.loginname= Loginname is not null</span><br><span class="line">NotBlank.user.password= Password is not null</span><br><span class="line">Length.user.password=Password length must be between 6 and 8</span><br><span class="line">NotBlank.user.username= Username is not null</span><br><span class="line">Range.user.age=Age must be between the ages of 15 to 60</span><br><span class="line">Email.user.email=Must be a legitimate email address</span><br><span class="line">Past.user.birthday=Birthday must be a date in the past</span><br><span class="line">Pattern.user.phone=Invalid phone number</span><br></pre></td></tr></table></figure>
<h2 id="message-zh-CN-properties"><a href="#message-zh-CN-properties" class="headerlink" title="message_zh_CN.properties"></a>message_zh_CN.properties</h2><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">NotBlank.user.loginname=登录名不能为空</span><br><span class="line">NotBlank.user.password=密码不能为空</span><br><span class="line">Length.user.password=密码长度必须在<span class="number">6</span>位到<span class="number">8</span>位之间</span><br><span class="line">NotBlank.user.username=用户名不能为空</span><br><span class="line">Range.user.age=年龄必须在<span class="number">15</span>到<span class="number">60</span>岁之间</span><br><span class="line">Email.user.email=必须是合法的邮箱地址</span><br><span class="line">Past.user.birthday=生日必须是一个过去的日期</span><br><span class="line">Pattern.user.phone=无效的手机号码</span><br></pre></td></tr></table></figure>
<p>接下来还需要在<code>springmvc-config.xml</code>配置文件中增加国际化的配置,如下所示:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 国际化配置 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span></span></span><br><span class="line"><span class="tag">    <span class="attr">id</span>=<span class="string">"messageSource"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">class</span>=<span class="string">"org.springframework.context.support.ResourceBundleMessageSource"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 国际化资源文件名 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span></span></span><br><span class="line"><span class="tag">        <span class="attr">name</span>=<span class="string">"basenames"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">value</span>=<span class="string">"message"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="springmvc-config-xml"><a href="#springmvc-config-xml" class="headerlink" title="springmvc-config.xml"></a>springmvc-config.xml</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:mvc</span>=<span class="string">"http://www.springframework.org/schema/mvc"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:p</span>=<span class="string">"http://www.springframework.org/schema/p"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/mvc/spring-mvc-4.3.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">		http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">		http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/context/spring-context-4.3.xsd"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- spring可以自动去扫描base-pack下面的包或者子包下面的java文件，</span></span><br><span class="line"><span class="comment">        如果扫描到有Spring的相关注解的类，则把这些类注册为Spring的bean --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"org.fkit"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 默认装配方案 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 静态资源处理 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 视图解析器 p:prefix属性表示前缀 p:suffix 表示后缀 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span></span></span><br><span class="line"><span class="tag">        <span class="attr">id</span>=<span class="string">"viewResolver"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">p:prefix</span>=<span class="string">"/WEB-INF/content/"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">p:suffix</span>=<span class="string">".jsp"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 国际化配置 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span></span></span><br><span class="line"><span class="tag">        <span class="attr">id</span>=<span class="string">"messageSource"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">class</span>=<span class="string">"org.springframework.context.support.ResourceBundleMessageSource"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 国际化资源文件名 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span></span></span><br><span class="line"><span class="tag">            <span class="attr">name</span>=<span class="string">"basenames"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">value</span>=<span class="string">"message"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><h3 id="乱填表单"><a href="#乱填表单" class="headerlink" title="乱填表单"></a>乱填表单</h3><p><img src="https://image-1257720033.cos.ap-shanghai.myqcloud.com/blog/readbooknote/Spring%2BMyBatisQiYeYingYongShiZhan/chapter6/24.png" alt="这里有一张图片"></p>
<h3 id="错误提示"><a href="#错误提示" class="headerlink" title="错误提示"></a>错误提示</h3><p><img src="https://image-1257720033.cos.ap-shanghai.myqcloud.com/blog/readbooknote/Spring%2BMyBatisQiYeYingYongShiZhan/chapter6/25.png" alt="这里有一张图片"></p>
<blockquote>
<p>原文链接: <a href="https://blueblue233.github.io/blog/9d26e814/">6.4 数据校验 6.4.2 JSR 303校验</a></p>
</blockquote>
    </div>
      <footer class="post-footer">
          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
                <a href="/blog/6e2018b3/" rel="next" title="6.4 数据校验 6.4.1 Spring的Validation校验框架">
                  <i class="fa fa-chevron-left"></i> 6.4 数据校验 6.4.1 Spring的Validation校验框架
                </a>
            </div>
            <span class="post-nav-divider"></span>
            <div class="post-nav-prev post-nav-item">
                <a href="/blog/bf7b9c27/" rel="prev" title="6.5 本章小结">
                  6.5 本章小结 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
      </footer>
  </article>
  </div>
          </div>
        </div>
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>
  <aside class="sidebar">
    <div class="sidebar-inner">
      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>
      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#6-4-数据校验-6-4-2-JSR-303校验"><span class="nav-number">1.</span> <span class="nav-text">6.4 数据校验 6.4.2 JSR 303校验</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#下载JSR-303"><span class="nav-number">1.1.</span> <span class="nav-text">下载JSR 303</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JSR-303注解"><span class="nav-number">1.2.</span> <span class="nav-text">JSR 303注解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Hibernate-Validator扩展注解"><span class="nav-number">1.3.</span> <span class="nav-text">Hibernate Validator扩展注解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#User-java"><span class="nav-number">1.4.</span> <span class="nav-text">User.java</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UserController-java"><span class="nav-number">1.5.</span> <span class="nav-text">UserController.java</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#success-jsp"><span class="nav-number">1.6.</span> <span class="nav-text">success.jsp</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#国际化错误提示信息"><span class="nav-number">1.7.</span> <span class="nav-text">国际化错误提示信息</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#message-en-US-properties"><span class="nav-number">1.8.</span> <span class="nav-text">message_en_US.properties</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#message-zh-CN-properties"><span class="nav-number">1.9.</span> <span class="nav-text">message_zh_CN.properties</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#springmvc-config-xml"><span class="nav-number">1.10.</span> <span class="nav-text">springmvc-config.xml</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#测试"><span class="nav-number">1.11.</span> <span class="nav-text">测试</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#乱填表单"><span class="nav-number">1.11.1.</span> <span class="nav-text">乱填表单</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#错误提示"><span class="nav-number">1.11.2.</span> <span class="nav-text">错误提示</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->
      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/images/avatar.jpg"
      alt="蓝蓝">
  <p class="site-author-name" itemprop="name">蓝蓝</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
          <span class="site-state-item-count">1155</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">333</span>
        <span class="site-state-item-name">分类</span>
        </a>
      </div>
  </nav>
</div>
      </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>
      </div>
    </main>
    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">蓝蓝</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.9.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.4.1</div>
      </div>
    </footer>
  </div>
  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.1"></script><script src="/js/motion.js?v=7.4.1"></script>
<script src="/js/schemes/pisces.js?v=7.4.1"></script>
<script src="/js/next-boot.js?v=7.4.1"></script><script src="/js/bookmark.js?v=7.4.1"></script>
  <script src="/js/local-search.js?v=7.4.1"></script>
</body>
</html>
